<!DOCTYPE html>
<html lang="en">    
<head>
    <meta charset="UTF-8">
    <title>Health Insurance Risk Calculator</title>
</head>

<body style="background-color: rgb(190, 218, 208);"></body>
<body>
    <h1 style='font-family: Times New Roman , Times , serif ; color: white;'> Health Insurance Risk Calculator</h1>
    <p>This program helps you classify health insurance
        based on their risk level. That is determined
        by their health. Their health is judged in terms
        of their body-mass index, blood pressure, age,
        and family history of disease.
         </p>
    <hr size='7'color='White'>
    <br /><br />

    <body>
        <label>What is your current age?</label><br />
        <select id="ageID">
            <option value="0">Less than 30</option>
            <option value="10">30 to 45</option>
            <option value="20">45 to 60</option>
            <option value="30">Greater than 60</option>
        </select>
        <br /><br />
    
    
        <label>What is your height in feet and inches</label><br />
        <select id="heightID">
            <option value="54">4'6" or shorter</option>
            <option value="56">4'8"</option>
            <option value="58">4'10"</option>
            <option value="60">5'0"</option>
            <option value="62">5'2"</option>	
            <option value="64">5'4"</option>
            <option value="66">5'6"</option>
            <option value="68">5'8"</option>
            <option value="70">5'10"</option>
            <option value="72">6'0"</option>
            <option value="74">6'2"</option>
            <option value="76">6'4" or taller</option>
        </select>
        <br><br />

        <label>What is your approximate weight</label><br />
        <select id="weightID">
            <option value="90">90 lbs or less than</option>
            <option value="100">100 lbs</option>
            <option value="110">110 lbs</option>
            <option value="120">120 lbs</option>	
            <option value="130">130 lbs</option>
            <option value="140">140 lbs</option>
            <option value="150">150 lbs</option>
            <option value="160">160 lbs</option>
            <option value="180">170 lbs</option>
            <option value="190">190 lbs</option>
            <option value="200">200 lbs</option>
            <option value="210">210 lbs</option>
            <option value="220">220 lbs</option>
            <option value="230">230 lbs</option>
            <option value="240">240 lbs</option>
            <option value="250">250 lbs</option>	
            <option value="260">260 lbs</option>
            <option value="270">270 lbs</option>
            <option value="280">280 lbs</option>
            <option value="290">290 lbs</option>
            <option value="300">300 lbs</option>
            <option value="310">310 lbs</option>
            <option value="320">320 lbs</option>
            <option value="330">330 lbs</option>
            <option value="340">340 lbs</option>
            <option value="350">350 lbs</option>
            <option value="360">360 lbs</option>
            <option value="370">370 lbs</option>	
            <option value="380">380 lbs</option>
            <option value="390">390 lbs</option>
            <option value="400">400 lbs</option>
            <option value="410">410 lbs</option>
            <option value="420">420 lbs</option>
            <option value="430">430 lbs</option>
            <option value="440">440 lbs</option>
            <option value="450">450 lbs or greater</option>

        </select><br /><br />
    
        <button onclick="calculateTotalBMI()">Calculate BMI</button>
        <p id="bmiResultID"></p>
    
        <p id="bmiMessageID"></p>
    
        <label>What is your blood pressure?</label><br />
        <select id="bloodPressureID">
            <option value="0">normal</option>
            <option value="15">elevated</option>
            <option value="30">stage 1</option>
            <option value="75">stage 2</option>
            <option value="100">crisis</option>
        </select>
        <p>**This is an adequate way to identify blood pressure. The instructions and/or messages need to be improved.</p>
        <br /><br />
    
        <label>Do you have Diabetes/ a family history of Diabetes?</label><br />
        <select id="diabetesId">
            <option value="10">Yes</option>
            <option value="0">No</option>
        </select>
        <br /><br />

        <label>Do you have a Cancer/ a family history of Cancer?</label><br />
        <select id="cancerId">
                <option value="10">Yes</option>
                <option value="0">No</option>
        </select>
        <br /><br />

        <label>Do you have Alzheimers/ a family history of Alzheimers?</label><br />
        <select id="alzheimersId">
                <option value="10">Yes</option>
                <option value="0">No</option>
        </select>
        <br /><br /> 

        <button onclick="calculateRisk()">Calculate Risk</button>
        <p id="riskID"></p>
        <p id="messageID"></p>
    
        <br /><br /><br /><br />
<script>
        console.log("starting Health Insurance Risk Calculator... ");
            
        function calculateRisk() {
        console.log("calculateRisk()");
            
                // Get the current age value.
                let ageResponseValue = parseInt(document.getElementById("ageID").selectedOptions[0].value);
                console.log("ageResponseValue = " + ageResponseValue);
        
                // Get the blood pressure value.
                // Todo: This is currently wrong in that we should a more user friendly question to request blood pressure.
                let bloodPressureResponseValue = parseInt(document.getElementById("bloodPressureID").selectedOptions[0].value);
                console.log("bloodPressureResponseValue = " + bloodPressureResponseValue);
               
                let bmiResponseValue = parseInt(document.getElementById("bmiID").selectedOptions[0].value);
	            console.log("bmiResponseValue = " + bmiResponseValue);
                // Get the diabetes value.
                let diabetesResponseValue = parseInt(document.getElementById("diabetesID").selectedOptions[0].value);
                console.log("alzheimers = " + diabetesResponseValue);
            
                // Get the cancer value.
                let cancerResponseValue = parseInt(document.getElementById("cancerID").selectedOptions[0].value);
                console.log("cancerResponseValue = " + cancerResponseValue);
            
                // Get the alzheimers value.
                let alzheimersResponseValue = parseInt(document.getElementById("alzheimersID").selectedOptions[0].value);
                console.log("alzheimersResponseValue = " + alzheimersResponseValue);
            
                // Calculate total risk. 
                let totalRisk = ageResponseValue + bmiResponseValue + bloodPressureResponseValue + diabetesResponseValue + cancerResponseValue + alzheimersResponseValue;
                console.log("totalRisk = " + totalRisk)
            
                document.getElementById("riskID").innerHTML = "Your total risk is: " + totalRisk;
            
                let message = "uninsurable"
                if (totalRisk <= 20) {
                    message = "low risk"
                } else if (totalRisk <= 50) {
                    message = "moderate risk"
                } else if (totalRisk <= 75) {
                    message = "high risk"
                }
            
            
                document.getElementById("messageID").innerHTML = message;
            
            
            
            
            }
            
        function BMI(height, weight) {
            return (703 * weight) / (height * height)
        }

        function calculateTotalBMI() {
            console.log('calculateTotalBMI()')
            let heightValueInInches = parseInt(document.getElementById("heightID").selectedOptions[0].value);
            let weightValueInLbs = parseInt(document.getElementById("weightID").selectedOptions[0].value);

            console.log("Height="+heightValueInInches+" and weight="+weightValueInLbs);

            let bmiValue = BMI(heightValueInInches, weightValueInLbs)
            console.log("BMI="+bmiValue)

            // Round bmi to one decimal.
            bmiValue = Math.round(bmiValue*10)/10
            console.log("BMI="+bmiValue)

            document.getElementById("bmiResultID").innerHTML = "Your Body Mass Index (BMI) is: " + bmiValue;

            let BMIMessage = ""
            if (bmiValue < 24.9) {
                BMIMessage = "Normal"
            } else if (bmiValue < 29.9) {
                BMIMessage = "Overweight"
            } else {
                BMIMessage = "Obese"
            }

            document.getElementById("bmiMessageID").innerHTML = BMIMessage;
        }

</script>
</body>
</html>

<script>
//#******************************************************************************
//# Copyright Eric Pogue
//#
//# This file is under the MIT
//#
//#you are free to use this **unmodified** code in this file in your projects
//# long as you give credit to the author in your source code./
//#
//#******************************************************************************
</script>
